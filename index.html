<!DOCTYPE html>
<html>
<head>
    <title>Polya's Game Simulation</title>
</head>
<body>
    <a href="https://github.com/abhishekmishra/polyas-game" target="_blank">
        <img src="github-mark.png" alt="GitHub" style="width: 50px; height: 50px; position: absolute; top: 10px; right: 10px;">
    </a>
    <h1>Polya's Game Simulation</h1>
    <p>This simulation demonstrates the dynamics of Polya's urn aka Polya's Game.</p>

    <h2>Table of Contents</h2>
    <ul>
        <li><a href="#ergodicity">Ergodicity</a></li>
        <li><a href="#rules">Rules of Polya's Game</a></li>
        <li><a href="#simulation">Simulation</a></li>
        <li><a href="#references">References</a></li>
    </ul>

    <h2 id="ergodicity">Ergodicity</h2>
    <p>
    I encountered this game quite recently when studying ergodicity in random processes
    <a href="#ref1">[1]</a>.
    With ergodicity we try to answer the question whether the behaviour of a single
    instance of a process or a system is the same as the behaviour of all similar
    processes or systems.
    </p>
    <p>
    To be more specific an ergodic process is a process where the time average
    of a single process is equal to the ensemble average of all processes. Polya's urn
    or Polya's game is an example of a process that is <b>not</b> ergodic. The game is surprisingly
    simple, and in every instance of the game the time average quickly converges to a
    stable value. And this may lead to the false conclusion that the game is ergodic.
    Yet the ensemble average of all instances of the game is not equal to the time average
    of a single instance of the game.
    </p>

    <h2 id="rules">Rules of Polya's Game</h2>
    <p>
    Now let's take a look at the rules of Polya's game. The game is played with an urn
    containing blue and red balls.
    <ul>
        <li>Start with an urn containing one red ball and one blue ball.</li>
        <li>At each step, draw a ball from the urn. (random choice)</li>
        <li>If the drawn ball is red, add another red ball to the urn.</li>
        <li>If the drawn ball is blue, add another blue ball to the urn.</li>
        <li>Repeat the process for a specified number of steps.</li>
        <li>Observe the proportion of red and blue balls in the urn.</li>
    </ul>
    </p>

    <h2 id="simulation">Simulation</h2>
    <p>
        The simulation below allows us to repeatedly run Polya's game for a specified number of steps. While the game is running, the time average of the proportion of red balls,
        and the ensemble average of the proportion of red balls are displayed. The time average is calculated as the average of the proportions of red balls in the urn at each step, while the ensemble average is calculated as the average of the proportions of red balls across all instances of the game.
    </p>
    <p>
        Each run of the simulation runs till the urn fills up with balls. Then the next
        run starts with 2 balls (one red and one blue). This is repeated for the specified number of runs.
    </p>
    <p>
        Usually with the second run we can already see that the time average of the proportion of red balls is
        not equal to the ensemble average of the proportion of red balls. Both the time average and the ensemble average stabilize around a certain value, but they are not equal.        
    </p>
    <p>
        The game is quite sensitive to what colour you draw first. If you draw a red ball first, the proportion of red balls in the urn will increase, and if you draw a blue ball first, the proportion of red balls in the urn will decrease.
    </p>
    <p>
        The game is also sensitive to the number of runs. The more runs you do, the more stable the time average and ensemble average become. But they will rarely be equal.
    </p>

    <p>
        The simulation is implemented in JavaScript using the p5.js library.
    </p>
    
    <p>
        <i>[Open in a new tab: <a href="game.html" target="_blank">Polya's Game Simulation</a>]</i>
    </p>
    <p>
        <iframe src="game.html" width="100%" height="420px" style="border:none;"></iframe>
    </p>

    <h2 id="references">References</h2>
    <ol>
        <li id="ref1">YouTube: <a href="https://youtu.be/VCb2AMN87cg?list=PLlDlzI_CtIRZv788QiW_X1wL8hi6E_9qV&t=695"> What is ergodicity? - Alex Adamou [11:35 - Polya's Game]</a></li>
</body>
</html>